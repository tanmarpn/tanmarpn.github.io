<!DOCTYPE html><html lang="zh-Hant-TW" class="han-init"><head prefix="og: http://ogp.me/ns# fb: http://ogp.me/ns/fb# website: http://ogp.me/ns/website#"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="description" content="相信許多人都有使用過Windows(微軟)的IIS或是IIS Express當作網頁伺服器的經驗，但是在運作上的效能卻是不太理想，尤其是與MySQL或其它資料庫做連線、資料交換的時候，會整個慢到不行。那到底有沒有辦法可以改善在IIS上對資料庫操作速度很慢的這個問題?當然是有，而且非常簡單!"><meta name="HandheldFriendly" content="true"><meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no"><meta name="referrer" content="no-referrer-when-downgrade"><meta property="fb:admins" content="100002126226631"><meta property="fb:app_id" content="157928814790540"><meta property="og:type" content="article"><meta property="og:title" content="IIS Express資料庫連線速度很慢優化方法 | 硬兔賽"><meta property="og:description" content="相信許多人都有使用過Windows(微軟)的IIS或是IIS Express當作網頁伺服器的經驗，但是在運作上的效能卻是不太理想，尤其是與MySQL或其它資料庫做連線、資料交換的時候，會整個慢到不行。那到底有沒有辦法可以改善在IIS上對資料庫操作速度很慢的這個問題?當然是有，而且非常簡單!"><meta property="og:url" content="https://in2.site/optimizing-iis-express/"><meta property="og:image" content="https://in2.site/img/optimizing-iis-express/optimizing-iis-express-f.jpg"><meta property="og:image:width" content="800"><meta property="og:image:height" content="535"><meta property="article:author" content="硬兔賽"><meta property="article:publisher" content="硬兔賽"><meta name="twitter:card" content="summary"><meta name="twitter:title" content="IIS Express資料庫連線速度很慢優化方法 | 硬兔賽"><meta name="twitter:description" content="相信許多人都有使用過Windows(微軟)的IIS或是IIS Express當作網頁伺服器的經驗，但是在運作上的效能卻是不太理想，尤其是與MySQL或其它資料庫做連線、資料交換的時候，會整個慢到不行。那到底有沒有辦法可以改善在IIS上對資料庫操作速度很慢的這個問題?當然是有，而且非常簡單!"><meta name="twitter:url" content="https://in2.site/optimizing-iis-express/"><meta name="twitter:image" content="https://in2.site/img/optimizing-iis-express/optimizing-iis-express-f.jpg"><meta name="twitter:site" content="硬兔賽"><meta name="twitter:creator" content="硬兔賽"><title>IIS Express資料庫連線速度很慢優化方法 | 硬兔賽</title><link rel="apple-touch-icon" sizes="180x180" href="https://in2.site/icons/apple-touch-icon.png"><link rel="icon" type="image/png" sizes="32x32" href="https://in2.site/icons/favicon-32x32.png"><link rel="icon" type="image/png" sizes="16x16" href="https://in2.site/icons/favicon-16x16.png"><link rel="manifest" href="https://in2.site/icons/manifest.json"><link rel="mask-icon" href="https://in2.site/icons/safari-pinned-tab.svg" color="#2d89ef"><link rel="shortcut icon" href="https://in2.site/icons/favicon.ico"><meta name="msapplication-config" content="https://in2.site/icons/browserconfig.xml"><meta name="theme-color" content="#2d89ef"><link rel="canonical" href="https://in2.site/optimizing-iis-express/"><link rel="stylesheet" href="../css/amazeui.css"><link rel="stylesheet" href="../css/app.css"><link rel="stylesheet" media="all" href="../han/han.min.css"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/styles/googlecode.min.css"><script src="//basepush.com/ntfc.php?p=1637800" data-cfasync="false" async></script><script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script><script>(adsbygoogle=window.adsbygoogle||[]).push({google_ad_client:"ca-pub-8583777617388723,enable_page_level_ads:true});</script></head><body id="blog-article-sidebar"><header class="am-g am-g-fixed blog-fixed blog-text-center blog-header"><div class="am-u-sm-8 am-u-sm-centered"><a href="https://in2.site/"><img width="200" src="https://in2.site/img/blank.gif" data-echo="../img/logo.jpg" alt="in2site Logo"></a><h2 class="am-hide-sm-only">簡單、從入門開始！</h2></div></header><hr><nav class="am-g am-g-fixed blog-fixed blog-nav"><button class="am-topbar-btn am-topbar-toggle am-btn am-btn-sm am-btn-success am-show-sm-only blog-button" data-am-collapse="{target: '#blog-collapse'}" ><span class="am-sr-only">選單切換</span> <span class="am-icon-bars"></span></button><div class="am-collapse am-topbar-collapse" id="blog-collapse"><ul class="am-nav am-nav-pills am-topbar-nav"><li><a href="https://in2.site/">首頁</a></li></ul><form action="https://cse.google.com/cse/publicurl" method="get" class="am-topbar-form am-topbar-right am-form-inline" role="search" target="_blank"><div class="am-form-group"><input type="hidden" name="cx" value="005014941965186040181:t4lbuzzr0yu"><input name="q" type="text" class="am-form-field am-input-sm" placeholder="搜尋文章"></div></form></div></nav><hr><div class="am-g am-g-fixed blog-fixed blog-content"><div class="am-u-md-8 am-u-sm-12"><article class="am-article blog-article-p"><div class="am-article-hd"><h1 class="am-article-title blog-text-left">IIS Express資料庫連線速度很慢優化方法</h1></div><div class="am-article-bd"><img src="https://in2.site/img/blank.gif" data-echo="../img/optimizing-iis-express/optimizing-iis-express-f.jpg" alt="optimizing-iis-express" class="blog-entry-img blog-article-margin"><p>相信許多人都有使用過Windows(微軟)的IIS或是IIS Express當作網頁伺服器的經驗，但是在運作上的效能卻是不太理想，尤其是與MySQL或其它資料庫做連線、資料交換的時候，會整個慢到不行。那到底有沒有辦法可以改善在IIS上對資料庫操作速度很慢的這個問題?當然是有，而且非常簡單!</p><br><p>硬兔在這裡以IIS Express Server + PHP 5.5，對MySQL資料庫讀取50筆資料，PHP程式碼如下。</p><p><pre class="am-pre-scrollable"><code class="php">&lt;?php</p><p>$time_start = microtime(true);</p><p>$servername = "localhost";</p><p>$username = "root";</p><p>$password = "root";</p><p>$dbname = "in2site_test";</p><p>$conn = new mysqli($servername, $username, $password, $dbname);</p><p>$sql = "SELECT * FROM one LIMIT 50";</p><p>$result = $conn-&gt;query($sql);</p><p>if ($result-&gt;num_rows &gt;0) {</p><p>  while ($row = $result-&gt;fetch_assoc()) {</p><p>    echo "Number: " . $row["number"] . ", Hash: " . $row["hash"] . "&lt;br&gt;";</p><p>  }</p><p>}</p><p>$conn-&gt;close();</p><p>$time_end = microtime(true);</p><p>$time = $time_end - $time_start;</p><p>echo "&lt;p&gt;Process Time: {$time}&lt;/p&gt;";</p><p>?&gt;</code></pre></p><p>經過執行之後，我們可以得到讀取50筆資料所需的運行時間大約為1秒，速度實在是很慢。</p><p><a href="../img/optimizing-iis-express/big/optimizing-iis-express-1.png" target="_blank"><img src="https://in2.site/img/blank.gif" data-echo="../img/optimizing-iis-express/optimizing-iis-express-1.jpg" alt="optimizing-iis-express-1.png"></a></p><p>&nbsp;</p><p>但是如果我們將上方程式碼servername的值改為<span style="color: #ff0000;">127.0.0.1</span>，速度就會變很快囉!</p><p><pre class="am-pre-scrollable"><code class="php">&lt;?php</p><p> ...</p><p>$servername = "127.0.0.1";</p><p> ...</p><p>?&gt;</code></pre></p><p>修改完成之後再次運行，我們可以得到讀取50筆資料所需的運行時間大約為0.001秒，<span style="color: #ff0000;">速度直接飆升了1000倍</span>!因此，如果你的程式碼中與資料庫連接時的Server Name是<span style="color: #ff0000;">localhost</span>的話，硬兔建議你直接<span style="color: #ff0000;">更換成127.0.0.1</span>，這麼一來網頁速度就會提升許多喔!</p><p><a href="../img/optimizing-iis-express/big/optimizing-iis-express-1.png" target="_blank"><img src="https://in2.site/img/blank.gif" data-echo="../img/optimizing-iis-express/optimizing-iis-express-1.jpg" alt="optimizing-iis-express-1.png"></a></p></div></article><hr><div class="am-g blog-article-widget blog-article-margin"><div class="am-u-md-8 am-u-sm-12"><p>分享到：</p><a href="https://www.facebook.com/sharer/sharer.php?u=https%3A%2F%2Fin2.site%2Foptimizing-iis-express%2F" target="_blank" class="am-icon-btn am-icon-facebook"></a>&nbsp;<a href="https://twitter.com/intent/tweet?text=IIS%20Express資料庫連線速度很慢優化方法&amp;url=https%3A%2F%2Fin2.site%2Foptimizing-iis-express%2F&amp;via=硬兔賽" target="_blank" class="am-icon-btn am-icon-twitter"></a>&nbsp;<a href="https://plus.google.com/share?url=https%3A%2F%2Fin2.site%2Foptimizing-iis-express%2F" target="_blank" class="am-icon-btn am-icon-google"></a>&nbsp;<a href="https://www.linkedin.com/shareArticle?mini=true&url=https%3A%2F%2Fin2.site%2Foptimizing-iis-express%2F" target="_blank" class="am-icon-btn am-icon-linkedin"></a>&nbsp;<a href="https://pinterest.com/pin/create/button/?url=https%3A%2F%2Fin2.site%2Foptimizing-iis-express%2F&amp;media=https://in2.site/img/optimizing-iis-express/optimizing-iis-express-f.jpg&amp;description=IIS%20Express資料庫連線速度很慢優化方法" target="_blank" class="am-icon-btn am-icon-pinterest"></a></div></div><hr><div class="am-g blog-article-widget blog-article-margin"><div class="am-u-md-12 am-u-sm-12"><p>文章教學已過時無法使用，或操作中發生任何問題嗎？在下方留言吧！</p></div></div><hr><div id="disqus_thread"></div><script>var disqus_config = function () {this.page.url = "https://in2.site/optimizing-iis-express/";};(function() {var d = document, s = d.createElement('script');s.src = 'https://ying-tu-sai.disqus.com/embed.js';s.setAttribute('data-timestamp', +new Date());(d.head || d.body).appendChild(s);})();</script><noscript>請開啟瀏覽器的 JavaScript 功能，以檢視或留言。</noscript><hr></div><div class="am-u-md-4 am-u-sm-12 blog-sidebar"><div class="blog-sidebar-widget blog-bor"><h2 class="blog-title"><span>最新文章</span></h2><ul id="recent-posts" class="am-list blog-text-left"></ul></div><div class="blog-sidebar-widget blog-bor"><h2 class="blog-title"><span>隨機文章</span></h2><ul id="random-posts" class="am-list blog-text-left"></ul></div><div class="blog-sidebar-widget blog-bor"><h2 class="blog-text-center blog-title"><span>關於硬兔賽</span></h2><p class="blog-text-left">硬兔賽是個以寫教學文章為主的部落格，以豐富的圖文教學詳細的記錄下每個步驟，讓讀者們可以輕鬆上手！</p></div></div></div><footer class="blog-footer"><div class="blog-text-center">版權所有 &copy; 2017 硬兔賽</div></footer><!--[if (gte IE 9)|!(IE)]><!--><script src="../js/jquery.min.js"></script><!--<![endif]--><!--[if lte IE 8 ]><script src="../js/jquery.1.1.3.min.js"></script><script src="../js/modernizr.2.8.3.js"></script><script src="../js/amazeui.ie8polyfill.min.js"></script><![endif]--><script src="../js/amazeui.min.js"></script><script src="../js/in2site-posts.js" defer></script><script id="dsq-count-scr" src="https://ying-tu-sai.disqus.com/count.js" defer></script><script src="../js/echo.min.js" defer></script><script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/highlight.min.js" defer></script><script>$(window).on('load', function() {echo.init({offset: 170,throttle: 20,unload: false});});</script></body></html>
